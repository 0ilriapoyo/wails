(()=>{function o(e){console.log("%c wails dev %c "+e+" ","background: #aa0000; color: #fff; border-radius: 3px 0px 0px 3px; padding: 1px; font-size: 0.7rem","background: #009900; color: #fff; border-radius: 0px 3px 3px 0px; padding: 1px; font-size: 0.7rem")}var n=null,l;window.onbeforeunload=function(){n&&(n.onclose=function(){},n.close(),n=null)};c();function i(){window.WailsInvoke=e=>{n.send(e)}}function s(){o("Connected to backend"),i(),clearInterval(l),n.onclose=d,n.onmessage=f}function d(){o("Disconnected from backend"),n=null,c()}function c(){l=setInterval(function(){n==null&&(n=new WebSocket("ws://"+window.location.hostname+":34115/wails/ipc"),n.onopen=s,n.onerror=function(e){return e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),n=null,!1})},1e3)}function f(e){if(e!=="drag")switch(e.data[0]){case"n":window.wails.EventsNotify(e.data.slice(1));break;case"c":let r=e.data.slice(1);window.wails.Callback(r);break;case"T":let t=e.data.slice(1),a=localStorage.getItem("wails:lastServerStartTime");a===null&&localStorage.setItem("wails:lastServerStartTime",t),t!==a&&(localStorage.setItem("wails:lastServerStartTime",t),location.reload(!0),console.log("Reloaded"));break;default:o("Unknown message: "+e.data)}}})();
